<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Light Score — Weekly Teletext</title>
    <link rel="stylesheet" href="/static/teletext.css" />
  </head>
  <body>
    <div class="ttx-container">
      <header class="ttx-header">
        <div>Light Score</div>
        <div class="muted">Weekly Games · Teletext</div>
      </header>

      <section class="ttx-grid">
        <div class="ttx-panel">
          <h2>History</h2>
          <ul class="ttx-list">
            {% if history_games and history_games|length > 0 %}
              {% for game in history_games %}
                <li class="ttx-item">
                  <div class="ttx-team">{{ game.team_a }} vs {{ game.team_b }}</div>
                  <div class="ttx-status-final">
                    {% if game.score_a is not none and game.score_b is not none %}
                      {{ game.score_a }} - {{ game.score_b }}
                    {% else %}
                      final
                    {% endif %}
                  </div>
                </li>
              {% endfor %}
            {% else %}
              <li class="ttx-item"><span class="muted">No finished games</span></li>
            {% endif %}
          </ul>
        </div>

        <div class="ttx-panel">
          <h2>Live</h2>
          <ul class="ttx-list">
            {% if live_games and live_games|length > 0 %}
              {% for game in live_games %}
                <li class="ttx-item">
                  <div class="ttx-team">{{ game.team_a }} vs {{ game.team_b }}</div>
                  <div class="ttx-status-live">
                    {% if game.score_a is not none and game.score_b is not none %}
                      {{ game.score_a }} - {{ game.score_b }}
                    {% else %}
                      live
                    {% endif %}
                  </div>
                </li>
              {% endfor %}
            {% else %}
              <li class="ttx-item"><span class="muted">No live games</span></li>
            {% endif %}
          </ul>
        </div>

        <div class="ttx-panel">
          <h2>Upcoming</h2>
          <ul class="ttx-list">
            {% if upcoming_games and upcoming_games|length > 0 %}
              {% for game in upcoming_games %}
                <li class="ttx-item">
                  <div class="ttx-team">{{ game.team_a }} vs {{ game.team_b }}</div>
                  <div class="ttx-status-upcoming">
                    {% if game.start_time %}
                      {{ game.start_time }}
                    {% else %}
                      scheduled
                    {% endif %}
                  </div>
                </li>
              {% endfor %}
            {% else %}
              <li class="ttx-item"><span class="muted">No upcoming games</span></li>
            {% endif %}
          </ul>
        </div>

        <div class="ttx-panel">
          <h2>Standings (Live)</h2>
          <ul class="ttx-list">
            {% if standings and standings|length > 0 %}
              {% for s in standings %}
                <li class="ttx-item">
                  <div class="ttx-team">{{ s.team }}</div>
                  <div>{{ s.wins }}-{{ s.losses }}</div>
                </li>
              {% endfor %}
            {% else %}
              <li class="ttx-item"><span class="muted">No standings available</span></li>
            {% endif %}
          </ul>
        </div>
      </section>
    </div>
  </body>
  
</html>
