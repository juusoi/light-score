<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Light Score — Playoff Seedings</title>
    <link rel="stylesheet" href="/static/teletext.css" />
  </head>
  <body>
    {# Macros for reusable team display components #}
    {% macro seeded_team(team) %}
    <li class="ttx-playoff-team {% if team.status == 'division_leader' %}ttx-division-leader{% else %}ttx-wild-card{% endif %}">
      <span class="ttx-team-seed">#{{ team.seed }}</span>
      <span class="ttx-team-name">{{ team.abbreviation }}</span>
      <span class="ttx-team-record">{{ team.wins }}-{{ team.losses }}{% if team.ties %}-{{ team.ties }}{% endif %}</span>
      <span class="ttx-team-status">{% if team.status == 'division_leader' %}DIV{% else %}WC{% endif %}</span>
    </li>
    {% endmacro %}

    {% macro outside_playoffs_team(team) %}
    <li class="ttx-playoff-team ttx-out-team">
      <span class="ttx-team-name">{{ team.abbreviation }}</span>
      <span class="ttx-team-record">{{ team.wins }}-{{ team.losses }}{% if team.ties %}-{{ team.ties }}{% endif %}</span>
      <span class="ttx-team-status muted">{{ team.status_detail }}</span>
    </li>
    {% endmacro %}

    <div class="ttx-container">
      <header class="ttx-header">
        <div class="ttx-brand"><a href="/" class="ttx-brand-link">Light Score</a></div>
        <div class="ttx-season-line">
          <span class="ttx-season">{{ season_type_name }}</span>
          <span class="ttx-sep-dot">•</span>
          <span class="ttx-year">Playoff Seedings</span>
        </div>
      </header>

      {% if error %}
      <section class="ttx-error-panel">
        <p class="muted">{{ error }}</p>
      </section>
      {% elif picture %}
      <section class="ttx-playoff-picture">
        <div class="ttx-conferences-grid">
          <!-- AFC -->
          <div class="ttx-conference-panel">
            <h2 class="ttx-conference-title ttx-afc">AFC</h2>
            <div class="ttx-seedings">
              <h3 class="ttx-status-header">Playoff Seeds</h3>
              <ul class="ttx-team-list">
                {% for team in picture.afc_teams if team.seed %}
                {{ seeded_team(team) }}
                {% endfor %}
              </ul>

              <h3 class="ttx-status-header ttx-out">Outside Playoffs</h3>
              <ul class="ttx-team-list">
                {% for team in picture.afc_teams if not team.seed %}
                {{ outside_playoffs_team(team) }}
                {% endfor %}
              </ul>
            </div>
          </div>

          <!-- NFC -->
          <div class="ttx-conference-panel">
            <h2 class="ttx-conference-title ttx-nfc">NFC</h2>
            <div class="ttx-seedings">
              <h3 class="ttx-status-header">Playoff Seeds</h3>
              <ul class="ttx-team-list">
                {% for team in picture.nfc_teams if team.seed %}
                {{ seeded_team(team) }}
                {% endfor %}
              </ul>

              <h3 class="ttx-status-header ttx-out">Outside Playoffs</h3>
              <ul class="ttx-team-list">
                {% for team in picture.nfc_teams if not team.seed %}
                {{ outside_playoffs_team(team) }}
                {% endfor %}
              </ul>
            </div>
          </div>
        </div>
      </section>
      {% else %}
      <section class="ttx-error-panel">
        <p class="muted">No playoff data available</p>
      </section>
      {% endif %}

      <footer class="ttx-footer">
        <a href="/" class="ttx-link">← Back to Scores</a>
      </footer>
    </div>
  </body>
</html>
